<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content padding>
  <div text-center>
    <img src="assets/imgs/logo.png" alt="">
  </div>
  <div class="contenu">
    <ion-title text-center  class="bienvenue">Creer un compte !</ion-title>
    <form  text-center padding   [formGroup]="register_form" (ngSubmit)="register()">

      <ion-item>
        <ion-label   color="primary" floating>
          Nom
        </ion-label>
        <ion-input clearInput  formControlName="name"></ion-input>
      </ion-item>
      <div *ngIf="register_form.controls.name.errors && (register_form.controls.name.dirty || register_form.controls.name.touched)">
        <p ion-text
           *ngIf="register_form.controls.name.errors.required"
           color="danger"
           text-left
        >
          le nom est requit
        </p>
      </div>


      <ion-item>
        <ion-label   color="primary" floating>
          Telephone
        </ion-label>
        <ion-input clearInput  formControlName="tel"></ion-input>
      </ion-item>
      <div *ngIf="register_form.controls.tel.errors && (register_form.controls.tel.dirty || register_form.controls.tel.touched)">
        <p ion-text
           *ngIf="register_form.controls.tel.errors.required"
           color="danger"
           text-left
        >
          le numero de telephone est requit
        </p>
        <p ion-text
           *ngIf="register_form.controls.tel.errors.minlength"
           color="danger"
           text-left
        >
          longueur min 9 , manque : {{ register_form.controls.tel.errors.minlength.requiredLength - register_form.controls.tel.errors.minlength.actualLength }}
        </p>

      </div>


      <ion-item>
        <ion-label   color="primary" floating>
          Email
        </ion-label>
        <ion-input type="email" clearInput  formControlName="email"></ion-input>
      </ion-item>
      <div *ngIf="register_form.controls.email.errors && (register_form.controls.email.dirty || register_form.controls.email.touched)">
        <p ion-text
           *ngIf="register_form.controls.email.errors.required"
           color="danger"
           text-left
        >
          l email est requise
        </p>
        <p ion-text
           *ngIf="register_form.controls.email.errors.email"
           color="danger"
           text-left
        >
          adresse email valide attendue !
        </p>

      </div>


      <ion-item>
        <ion-label   color="primary" floating>
          Ville
        </ion-label>
        <ion-input clearInput  formControlName="town"></ion-input>
      </ion-item>
      <div *ngIf="register_form.controls.town.errors && (register_form.controls.town.dirty || register_form.controls.town.touched)">
        <p ion-text
           *ngIf="register_form.controls.town.errors.required"
           color="danger"
           text-left
        >
          la ville est requise
        </p>
      </div>


      <ion-item>
        <ion-label   color="primary" floating>
          Mot de passe
        </ion-label>
        <ion-input type="password" clearInput  formControlName="mot_de_pass"></ion-input>
      </ion-item>
      <div *ngIf="register_form.controls.mot_de_pass.errors && (register_form.controls.mot_de_pass.dirty || register_form.controls.mot_de_pass.touched)">
        <p ion-text
           *ngIf="register_form.controls.mot_de_pass.errors.required"
           color="danger"
           text-left
        >
          l'email ou le telephone est requit
        </p>
        <p ion-text
           *ngIf="register_form.controls.mot_de_pass.errors.minlength"
           color="danger"
           text-left
        >
          longuer min 8 , manque : {{ register_form.controls.mot_de_pass.errors.minlength.requiredLength - register_form.controls.mot_de_pass.errors.minlength.actualLength }}
        </p>
      </div>

      <ion-item>
        <ion-label   color="primary" floating>
          Confirmer le mot de passe
        </ion-label>
        <ion-input type="password" clearInput  formControlName="mot_de_pass_confirm"></ion-input>
      </ion-item>
      <div *ngIf="register_form.controls.mot_de_pass_confirm.errors &&
                (register_form.controls.mot_de_pass_confirm.dirty
                || register_form.controls.mot_de_pass_confirm.touched
                || register_form.controls.mot_de_pass.touched
                )">
        <p ion-text
           *ngIf="register_form.controls.mot_de_pass_confirm.errors.MatchPassword"
           color="danger"
           text-left
        >
          la confirmation du mot de passe ne correspond pas
        </p>

      </div>

      <button ion-button block [disabled]="!register_form.valid">Creer</button>
    </form>

    <div class="singup" text-center (click)="login()">Vous avez deja un compte? Se connecter</div>
  </div>
</ion-content>
